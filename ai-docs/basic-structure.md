# Базовая структура проекта "mp3-autocut"

Этот документ описывает основную структуру каталогов и ключевых файлов проекта `mp3-autocut`.

## Основные компоненты

Проект состоит из двух основных исполняемых частей: скрипта командной строки (CLI) и графического пользовательского интерфейса (GUI).

### 1. Скрипты Python

*   **`split_mp3.py`**:
    *   **Назначение**: Основной скрипт командной строки (CLI) для нарезки MP3 файлов на части на основе тишины. Он также выполняет изменение скорости воспроизведения и пиковую нормализацию громкости.
    *   **Ключевые функции**:
        *   Обнаружение тишины с использованием `pydub.silence.detect_silence`.
        *   Разделение аудио на фрагменты (`chunks`).
        *   Изменение скорости фрагментов с помощью `ffmpeg`.
        *   Пиковая нормализация громкости фрагментов с использованием `pydub.effects.normalize` (опционально, управляется параметрами `--enable-normalization` и `--norm-dbfs`).
        *   Возможность копирования обработанных файлов на внешний диск.
        *   Опциональное голосовое оповещение о прогрессе (TTS).
        *   Принимает множество аргументов командной строки для настройки параметров обработки (например, длительность тишины, порог тишины, минимальная длина фрагмента, скорость и т.д.).

*   **`mp3_autocut_gui.py`**:
    *   **Назначение**: Графический пользовательский интерфейс (GUI) для `split_mp3.py`, написанный с использованием PyQt5. Предоставляет более удобный способ взаимодействия с функциями нарезки MP3.
    *   **Ключевые функции**:
        *   Позволяет пользователю выбирать исходные файлы/папки и выходную папку.
        *   Предоставляет поля для ввода всех основных параметров, которые принимает `split_mp3.py`, сгруппированные для удобства.
        *   Управляет профилями настроек (сохранение и загрузка из `profiles.json`).
        *   Формирует и выполняет команду для `split_mp3.py` на основе введенных пользователем данных.
        *   Отображает вывод `split_mp3.py` в текстовом поле.

### 2. Файлы конфигурации и данных

*   **`profiles.json`**:
    *   **Назначение**: Хранит пользовательские профили настроек для GUI. Каждый профиль содержит набор параметров (например, порог тишины, длительность фрагмента, скорость, пути, настройки нормализации, состояния чекбоксов `copy_only`, `skip_existing`, `enable_normalization` и т.д.), которые можно быстро загрузить в интерфейсе.
    *   **Структура**: JSON-файл, содержащий объект, где каждый ключ - это имя профиля, а значение - объект с параметрами.

*   **`requirements.txt`**:
    *   **Назначение**: Перечисляет Python-зависимости проекта, необходимые для его работы. Используется для установки зависимостей с помощью `pip install -r requirements.txt`.
    *   **Ключевые зависимости**: `pydub`, `PyQt5`, `pyttsx3`.

*   **`README.md`**:
    *   **Назначение**: Предоставляет подробное описание проекта, инструкции по установке, использованию (как GUI, так и CLI), а также секцию по устранению неполадок.

### 3. Основные каталоги

*   **`source_mp3/`**:
    *   **Назначение**: Предполагаемый каталог для размещения исходных MP3 файлов, которые пользователь хочет обработать. GUI по умолчанию может предлагать этот каталог.

*   **`ready_mp3/`**:
    *   **Назначение**: Каталог по умолчанию, куда сохраняются обработанные (нарезанные и измененные по скорости) MP3 файлы.

*   **`copied_mp3/`**:
    *   **Назначение**: Если включена функция копирования на внешний диск, и копирование успешно завершено, обработанные файлы перемещаются из `ready_mp3/` (или указанного выходного каталога) в этот каталог. Это помогает отслеживать, какие файлы были скопированы.

*   **`archive_mp3/`**:
    *   **Назначение**: Предполагаемый каталог для архивации исходных MP3 файлов после их успешной обработки. Логика архивации может быть реализована пользователем или дополнительными скриптами; основные скрипты проекта напрямую не управляют этим каталогом по умолчанию.

*   **`.venv/` или `.venv312/` (или аналогичные)**:
    *   **Назначение**: Каталоги виртуальных окружений Python. Содержат интерпретатор Python и установленные зависимости проекта, изолированные от глобальной установки Python. Рекомендуется использовать виртуальное окружение для работы с проектом.

*   **`ai-docs/`**:
    *   **Назначение**: Каталог для хранения документации, сгенерированной или связанной с ИИ-ассистентом, такой как этот документ.

*   **`app_icon.png` (опционально)**:
    *   **Назначение**: Пользовательский файл иконки для GUI. Если размещен в корневой директории проекта (рядом с `mp3_autocut_gui.py`), используется как иконка приложения.

### Вспомогательные файлы и каталоги

*   **`.git/`**: Каталог для системы контроля версий Git.
*   **`.gitignore`**: Определяет намеренно неотслеживаемые файлы, которые Git должен игнорировать.
*   **`temp_uploads/`**: Может использоваться GUI для временного хранения файлов при выборе через диалоговое окно, хотя его основное использование не детализировано в коде.
*   **`__pycache__/`**: Содержит байт-код Python, кэшированный интерпретатором.
*   **`.vscode/`**: Может содержать настройки рабочей области для редактора Visual Studio Code.
*   **`.DS_Store`**: Системный файл macOS.

Этот документ охватывает основные элементы структуры проекта. Для более детального понимания функциональности каждого компонента рекомендуется изучить исходный код соответствующих файлов и `README.md`. 